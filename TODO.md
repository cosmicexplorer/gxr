(in topological order)
1. do this with c
2. add macros
3. extend to multiple files (don't forget about static!)
4. make preprocessor macros work (be able to read their expansion as well)
5. extend to c++ (templates, namespaces, virtual functions!)
6. remove requirement to include clang headers, or at least automate it
